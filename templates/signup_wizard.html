<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Redivio - System Setup</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Rajdhani:wght@500;600;700&family=Inter:wght@300;400;500;600&display=swap" rel="stylesheet">

    <style>
        body { font-family: 'Inter', sans-serif; background: #0b1120; color: #e2e8f0; overflow-x: hidden; }
        .tech-font { font-family: 'Rajdhani', sans-serif; text-transform: uppercase; }

        /* Background Grid */
        .bg-grid {
            position: absolute; inset: 0; z-index: 0;
            background-image: radial-gradient(rgba(59, 130, 246, 0.1) 1px, transparent 1px);
            background-size: 40px 40px;
        }

        /* Wizard Card */
        .wizard-card {
            background: rgba(15, 23, 42, 0.8);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(59, 130, 246, 0.2);
            box-shadow: 0 0 50px rgba(0, 0, 0, 0.5);
        }

        /* Form Elements */
        .input-label { font-size: 0.75rem; color: #94a3b8; font-weight: 600; margin-bottom: 0.5rem; display: block; letter-spacing: 0.05em; }
        .input-box {
            width: 100%; background: #0f172a; border: 1px solid #334155; padding: 1rem; border-radius: 0.75rem; color: white; transition: all 0.3s;
        }
        .input-box:focus { border-color: #3b82f6; box-shadow: 0 0 0 4px rgba(59, 130, 246, 0.1); outline: none; }

        /* File Upload */
        .drop-zone {
            border: 2px dashed #475569; border-radius: 1rem; padding: 2rem; text-align: center;
            transition: all 0.3s; cursor: pointer; background: rgba(30, 41, 59, 0.3); position: relative; overflow: hidden;
        }
        .drop-zone:hover { border-color: #3b82f6; background: rgba(59, 130, 246, 0.05); }
        .drop-zone.has-file { border-style: solid; border-color: #10b981; }

        /* Select styling */
        select { -webkit-appearance: none; -moz-appearance: none; appearance: none; }
        
        /* Steps Animation */
        [x-cloak] { display: none !important; }
    </style>
</head>
<body class="min-h-screen flex items-center justify-center relative p-4" x-data="setupWizard()">

    <div class="bg-grid"></div>

    <div class="w-full max-w-2xl relative z-10">
        
        <div class="mb-8">
            <div class="flex justify-between items-end mb-4">
                <div>
                    <h1 class="text-3xl font-bold text-white tech-font tracking-wide">System Configuration</h1>
                    <p class="text-slate-400 text-sm">Initializing workspace environment.</p>
                </div>
                <div class="text-right">
                    <span class="text-2xl font-bold text-blue-500 tech-font" x-text="'0' + step"></span>
                    <span class="text-slate-600 font-bold tech-font">/ 03</span>
                </div>
            </div>
            <div class="h-1.5 w-full bg-slate-800 rounded-full overflow-hidden">
                <div class="h-full bg-blue-500 transition-all duration-500 ease-out shadow-[0_0_10px_#3b82f6]" :style="`width: ${(step / 3) * 100}%`"></div>
            </div>
        </div>

        <div class="wizard-card rounded-2xl p-8 lg:p-10 min-h-[400px] flex flex-col justify-between relative overflow-hidden">
            
            <div x-show="step === 1" x-transition:enter="transition ease-out duration-300" x-transition:enter-start="opacity-0 translate-x-10" x-transition:enter-end="opacity-100 translate-x-0" x-transition:leave="transition ease-in duration-300" x-transition:leave-start="opacity-100 translate-x-0" x-transition:leave-end="opacity-0 -translate-x-10">
                <h2 class="text-xl font-bold text-white mb-6 flex items-center gap-2">
                    <i class="fas fa-copyright text-blue-500"></i> Corporate Identity
                </h2>

                <div class="space-y-6">
                    <div>
                        <span class="input-label">COMPANY LOGO</span>
                        <div class="drop-zone" :class="{'has-file': logoPreview}" @click="$refs.fileInput.click()">
                            <input type="file" x-ref="fileInput" class="hidden" @change="handleFileUpload">
                            
                            <div x-show="!logoPreview">
                                <i class="fas fa-cloud-upload-alt text-3xl text-slate-500 mb-3"></i>
                                <p class="text-slate-300 font-medium">Click to upload brand asset</p>
                                <p class="text-xs text-slate-500 mt-1">PNG, JPG (Max 2MB)</p>
                            </div>

                            <div x-show="logoPreview" class="relative z-10">
                                <img :src="logoPreview" class="h-24 mx-auto object-contain rounded-lg shadow-lg mb-2">
                                <p class="text-xs text-green-400 font-bold tracking-widest uppercase"><i class="fas fa-check-circle"></i> Uploaded</p>
                            </div>
                        </div>
                    </div>

                    <div>
                        <span class="input-label">TAX / VAT REGISTRATION NUMBER</span>
                        <input type="text" class="input-box font-mono" placeholder="300-XXX-XXX-XXX" x-model="data.taxId">
                    </div>
                </div>
            </div>

            <div x-show="step === 2" x-cloak x-transition:enter="transition ease-out duration-300" x-transition:enter-start="opacity-0 translate-x-10" x-transition:enter-end="opacity-100 translate-x-0" x-transition:leave="transition ease-in duration-300" x-transition:leave-start="opacity-100 translate-x-0" x-transition:leave-end="opacity-0 -translate-x-10">
                <h2 class="text-xl font-bold text-white mb-6 flex items-center gap-2">
                    <i class="fas fa-globe text-blue-500"></i> Localization
                </h2>

                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                    <div>
                        <span class="input-label">BASE CURRENCY</span>
                        <div class="relative">
                            <select x-model="data.currency" class="input-box cursor-pointer">
                                <option value="SAR">SAR - Saudi Riyal</option>
                                <option value="USD">USD - US Dollar</option>
                                <option value="EGP">EGP - Egyptian Pound</option>
                                <option value="AED">AED - UAE Dirham</option>
                            </select>
                            <div class="absolute right-4 top-4 text-slate-500 pointer-events-none"><i class="fas fa-chevron-down"></i></div>
                        </div>
                    </div>

                    <div>
                        <span class="input-label">TIMEZONE</span>
                        <div class="relative">
                            <select class="input-box cursor-pointer">
                                <option>Riyadh (GMT+03:00)</option>
                                <option>Cairo (GMT+02:00)</option>
                                <option>Dubai (GMT+04:00)</option>
                            </select>
                            <div class="absolute right-4 top-4 text-slate-500 pointer-events-none"><i class="fas fa-chevron-down"></i></div>
                        </div>
                    </div>

                    <div class="md:col-span-2">
                        <span class="input-label">FISCAL YEAR START</span>
                        <input type="date" class="input-box" value="2025-01-01">
                    </div>
                </div>
            </div>

            <div x-show="step === 3" x-cloak class="text-center py-10" x-transition:enter="transition ease-out duration-500" x-transition:enter-start="opacity-0 scale-90" x-transition:enter-end="opacity-100 scale-100">
                
                <div class="relative w-24 h-24 mx-auto mb-8">
                    <div class="absolute inset-0 border-4 border-slate-700 rounded-full"></div>
                    <div class="absolute inset-0 border-4 border-t-blue-500 border-r-blue-500 border-b-transparent border-l-transparent rounded-full animate-spin"></div>
                    <div class="absolute inset-0 flex items-center justify-center">
                        <i class="fas fa-database text-2xl text-slate-500 animate-pulse"></i>
                    </div>
                </div>

                <h2 class="text-2xl font-bold text-white mb-2 tech-font">Applying Configuration</h2>
                <p class="text-slate-400 text-sm max-w-sm mx-auto mb-8" id="loading-text">Creating database schema...</p>

                <div class="hidden" id="success-message">
                    <button class="bg-green-600 hover:bg-green-500 text-white font-bold py-3 px-8 rounded-full shadow-lg shadow-green-900/50 transition-all hover:scale-105">
                        LAUNCH DASHBOARD <i class="fas fa-rocket ml-2"></i>
                    </button>
                </div>
            </div>

            <div class="flex justify-between mt-10 pt-6 border-t border-slate-700/50" x-show="step < 3">
                <button @click="step--" x-show="step > 1" class="text-slate-400 hover:text-white font-semibold transition-colors">
                    BACK
                </button>
                <div x-show="step === 1" class="ml-auto"></div> <button @click="nextStep()" 
                        class="bg-blue-600 hover:bg-blue-500 text-white font-bold py-3 px-8 rounded-lg shadow-lg transition-all hover:translate-x-1 flex items-center gap-2">
                    <span x-text="step === 2 ? 'FINISH SETUP' : 'CONTINUE'"></span>
                    <i class="fas fa-arrow-right text-sm"></i>
                </button>
            </div>

        </div>

        <div class="text-center mt-6 text-xs text-slate-600 font-mono">
            SESSION ID: <span class="text-slate-500">XYZ-8821-INIT</span>
        </div>

    </div>

    <script>
        function setupWizard() {
            return {
                step: 1,
                logoPreview: null,
                data: {
                    taxId: '',
                    currency: 'SAR'
                },
                
                handleFileUpload(e) {
                    const file = e.target.files[0];
                    if (file) {
                        const reader = new FileReader();
                        reader.onload = (e) => {
                            this.logoPreview = e.target.result;
                        };
                        reader.readAsDataURL(file);
                    }
                },

                nextStep() {
                    if (this.step < 3) {
                        this.step++;
                        if (this.step === 3) {
                            this.startFinalization();
                        }
                    }
                },

                startFinalization() {
                    // Simulate system setup processes
                    const texts = [
                        "Creating database schema...",
                        "Setting up currency rates...",
                        "Generating chart of accounts...",
                        "Finalizing user permissions...",
                        "Done!"
                    ];
                    
                    let i = 0;
                    const el = document.getElementById('loading-text');
                    
                    const interval = setInterval(() => {
                        el.innerText = texts[i];
                        i++;
                        if (i >= texts.length) {
                            clearInterval(interval);
                            this.showSuccess();
                        }
                    }, 800);
                },

                showSuccess() {
                    document.getElementById('loading-text').innerText = "System Ready.";
                    document.querySelector('.animate-spin').classList.remove('animate-spin');
                    document.querySelector('.border-t-blue-500').classList.replace('border-t-blue-500', 'border-t-green-500');
                    document.querySelector('.border-r-blue-500').classList.replace('border-r-blue-500', 'border-r-green-500');
                    
                    // Show Button
                    gsap.fromTo("#success-message", 
                        { display: "block", opacity: 0, y: 10 }, 
                        { opacity: 1, y: 0, duration: 0.5 }
                    );
                }
            }
        }
    </script>
</body>
</html>